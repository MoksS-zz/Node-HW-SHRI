# Node-HW-SHRI 

### Установка

У вас должна быть node js 10-12 версии, иначе некоторые зависимости которые я тяну просто не будут работать (

если ваша версия не схожа с моей воспользуйтесь nvm, крайне удобная и полезная штука

для [Linux/macOS](https://github.com/nvm-sh/nvm)

для [Windwos](https://github.com/coreybutler/nvm-windows)

так же в моем приложении есть код с такой вставкой 

```js
  await exec(`rm -rf ./builds/*`);
```

Не будет работать в windows

1) как скачаетe репозиторий введите в консоль 

    ```
      npm ci
    ```
2) Вам нужно создать файл в корне проекта .env

    В самом файле сделать такую запись 

    ```
    TOKEN=eyJhbasdasdGciOasdasdiJIUzI1NiIsInR5cCI6asasdIkpXVCJ9.
    ``` 
    сам токен я отправлю с ссылкой на репозиторий, хотя не уверен что он вам нужен, но все же.

3)  ``` 
    npm run product
    ```

### Поговорим о моем коде)

Во первых я хотел бы избавиться от axios и вообще пожалел, что притянул его, переписав все на нативные методы nodejs

Дальше мне не нравится мой велосипед с кешем, а именно некоторые моменты, я переписал бы и сделал более логичными, а так же запись в файл реализовал через потоки, как чтение и отдачу логов.

Мне не нравится момент с клонированием репы, если представить что пользователь захочет клонировать файл в несколько сотен мб а то и гб, то он очень долго будет ждать ответа с сервера, что все прошло успешно. Нужно отдавать ответ клиенту сразу, а после при других запросах как то уведомлять о том, что клонирование не прошло успешно (( Прямо сейчас сделать это как надо у меня нету времени

По коде не обработано много исключений, так же нету проверки на типы и валидацию информации приходящей с post запросаими или get в параметрах, не всегда код ответа http совпадает с действительностью

Клонирование да и вообще работу с гитом я бы предпочел через ssh и заранее настроенные ключи, чтобы не было проблем с авторизацией и если, и приходила ошибка, то ссылатся только на то, что репозиторий не найден и тд. 

В корне репозитория есть конфиг на postman, вдруг он вам пригодиться.

В папке билд и папке cache я оставил файлы, чтобы при клонировании эти папки остались во избежания ошибок, уже нету времени разбираться с этим.

Спасибо, что дочитали, удачи! Искренне надеюсь что у вас все заведеться без каких либо проблем
