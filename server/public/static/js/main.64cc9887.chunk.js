(this.webpackJsonpfront=this.webpackJsonpfront||[]).push([[0],{33:function(e,t,n){e.exports=n.p+"static/media/logo.2d2123ee.svg"},37:function(e){e.exports=JSON.parse('{"Build":{"Button":{"ShowMore":"Show more","RunBuild":"Run build"}},"BuildDetails":{"Button":{"Rebuild":"Rebuild"}},"Settings":{"Form":{"header":"Settings","descripton":"Configure repository connection and synchronization settings."},"Input":{"repoName":{"head":"GitHub repository","placeholder":"user-name/repo-name"},"buildCommand":{"head":"Build command","placeholder":"npm ci && npm run build"},"mainBranch":{"head":"Main branch","placeholder":"master"},"period":{"head":{"one":"Synchronize every","other":"Synchronize every"},"placeholder":"10","span":{"one":"minute","other":"minutes"}}},"Error":{"invalidInput":"Fill in required fields","unknown":"lost internet connection"},"Button":{"Save":"Save","Cancel":"Cancel"}},"StartScreen":{"Button":{"Settings":"Settings"}},"Logo":{"Button":{"OpenSettings":"Open Settings"},"Text":"Configure repository connection and synchronization settings"},"Footer":{"Support":"Support","Learning":"Learning","lang":"\u0420\u0443\u0441\u0441\u043a\u0430\u044f \u0432\u0435\u0440\u0441\u0438\u044f","Copyright":"\xa9 2020 MoksS"},"PopUp":{"Form":{"header":"New Build","descripton":"Enter the commit hash which you want to build."},"Input":{"commitHash":{"placeholder":"Commit Hash"}},"Button":{"RunBuild":"Run build","Cancel":"Cancel"}}}')},38:function(e){e.exports=JSON.parse('{"Build":{"Button":{"ShowMore":"\u041f\u043e\u043a\u0430\u0437\u0430\u0442\u044c \u0431\u043e\u043b\u044c\u0448\u0435","RunBuild":"\u0417\u0430\u043f\u0443\u0441\u043a \u0441\u0431\u043e\u0440\u043a\u0438"}},"BuildDetails":{"Button":{"Rebuild":"\u0421\u043e\u0431\u0440\u0430\u0442\u044c \u0437\u0430\u043d\u043e\u0432\u043e"}},"Settings":{"Form":{"header":"\u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438","descripton":"\u041d\u0430\u0441\u0442\u0440\u043e\u0439\u0442\u0435 \u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b \u043f\u043e\u0434\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u044f \u043a \u0440\u0435\u043f\u043e\u0437\u0438\u0442\u043e\u0440\u0438\u044e \u0438 \u0441\u0438\u043d\u0445\u0440\u043e\u043d\u0438\u0437\u0430\u0446\u0438\u0438."},"Input":{"repoName":{"head":"\u0420\u0435\u043f\u043e\u0437\u0438\u0442\u043e\u0440\u0438\u0439 GitHub","placeholder":"\u0438\u043c\u044f \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f/\u0438\u043c\u044f \u0440\u0435\u043f\u043e\u0437\u0438\u0442\u043e\u0440\u0438\u044f"},"buildCommand":{"head":"\u041a\u043e\u043c\u0430\u043d\u0434\u0430 \u0441\u0431\u043e\u0440\u043a\u0438","placeholder":"npm ci && npm run build"},"mainBranch":{"head":"\u0413\u043b\u0430\u0432\u043d\u0430\u044f \u0432\u0435\u0442\u0432\u044c","placeholder":"master"},"period":{"head":{"one":"\u0421\u0438\u043d\u0445\u0440\u043e\u043d\u0438\u0437\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u043a\u0430\u0436\u0434\u0443\u044e","many":"\u0421\u0438\u043d\u0445\u0440\u043e\u043d\u0438\u0437\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u043a\u0430\u0436\u0434\u044b\u0435","few":"\u0421\u0438\u043d\u0445\u0440\u043e\u043d\u0438\u0437\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u043a\u0430\u0436\u0434\u044b\u0435","other":"\u0421\u0438\u043d\u0445\u0440\u043e\u043d\u0438\u0437\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u043a\u0430\u0436\u0434\u044b\u0435"},"placeholder":"10","span":{"one":"\u043c\u0438\u043d\u0443\u0442\u0443","many":"\u043c\u0438\u043d\u0443\u0442","few":"\u043c\u0438\u043d\u0443\u0442\u044b","other":"\u043c\u0438\u043d\u0443\u0442"}}},"Error":{"invalidInput":"\u0417\u0430\u043f\u043e\u043b\u043d\u0438\u0442\u0435 \u043d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u044b\u0435 \u043f\u043e\u043b\u044f","unknown":"\u043f\u043e\u0442\u0435\u0440\u044f\u043d\u043d\u043e \u043f\u043e\u0434\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u0435 \u043a \u0438\u043d\u0442\u0435\u0440\u043d\u0435\u0442\u0443"},"Button":{"Save":"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c","Cancel":"\u041e\u0442\u043c\u0435\u043d\u0438\u0442\u044c"}},"StartScreen":{"Button":{"Settings":"\u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438"}},"Logo":{"Button":{"OpenSettings":"\u041e\u0442\u043a\u0440\u044b\u0442\u044c  \u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438"},"Text":"\u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0430 \u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u043e\u0432 \u043f\u043e\u0434\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u044f \u043a \u0440\u0435\u043f\u043e\u0437\u0438\u0442\u043e\u0440\u0438\u044e \u0438 \u0441\u0438\u043d\u0445\u0440\u043e\u043d\u0438\u0437\u0430\u0446\u0438\u0438"},"Footer":{"Support":"\u041f\u043e\u0434\u0434\u0435\u0440\u0436\u043a\u0430","Learning":"\u041e\u0431\u0443\u0447\u0435\u043d\u0438\u0435","lang":"English version","Copyright":"\xa9 2020 MoksS"},"PopUp":{"Form":{"header":"\u041d\u043e\u0432\u0430\u044f \u0421\u0431\u043e\u0440\u043a\u0430","descripton":"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0445\u044d\u0448 \u043a\u043e\u043c\u043c\u0438\u0442\u0430, \u043a\u043e\u0442\u043e\u0440\u044b\u0439 \u0432\u044b \u0445\u043e\u0442\u0438\u0442\u0435 \u0441\u043e\u0431\u0440\u0430\u0442\u044c."},"Input":{"commitHash":{"placeholder":"\u0425\u0435\u0448 \u043a\u043e\u043c\u043c\u0438\u0442\u0430"}},"Button":{"RunBuild":"\u0417\u0430\u043f\u0443\u0441\u043a \u0421\u0431\u043e\u0440\u043a\u0438","Cancel":"\u041e\u0442\u043c\u0435\u043d\u0430"}}}')},39:function(e,t,n){e.exports=n(75)},45:function(e,t,n){},46:function(e,t,n){},47:function(e,t,n){},49:function(e,t,n){},51:function(e,t,n){},56:function(e,t,n){},57:function(e,t,n){},58:function(e,t,n){},59:function(e,t,n){},60:function(e,t,n){},61:function(e,t,n){},62:function(e,t,n){},63:function(e,t,n){},64:function(e,t,n){},71:function(e,t,n){},75:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(18),l=n.n(c),i=n(3),o=n.n(i),s=n(8),u=n(4),d=n(12),m=(n(45),n(46),n(47),n(11)),h=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"/",t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"settingsOn":return"/build";default:return e}},p=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"setName":return t.name;default:return e}},g=n(17),f=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{build:[],finish:!1},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"updateList":return t.build.length<t.length?{build:[].concat(Object(g.a)(e.build),Object(g.a)(t.build)),finish:!0}:{build:[].concat(Object(g.a)(e.build),Object(g.a)(t.build)),finish:!1};default:return e}},b=n(25),_=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{commitHash:"",log:"",loading:!0},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"updateDetails":return Object(b.a)({},t.build,{loading:!1});case"loading":return Object(b.a)({},e,{loading:!0});default:return e}},v=localStorage.getItem("lang")||"en";console.log(v);var E=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:v,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"setLang":return t.lang;default:return e}},x=Object(m.c)({setting:h,repName:p,buildList:f,buildDetails:_,lang:E}),N=n(31),w=window.__PRELOADED_STATE__;delete window.__PRELOADED_STATE__;var y,S=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||m.d,k=Object(m.e)(x,w,S(Object(m.a)(N.a))),O=k.getState().lang,I=function(){var e=window.lang;return r.a.createElement("footer",{className:"Footer"},r.a.createElement("div",{className:"Footer_Content"},r.a.createElement("div",{className:"Link"},r.a.createElement("a",{className:"Link_ATag",href:"/#"},e.Footer.Support),r.a.createElement("a",{className:"Link_ATag",href:"/#"},e.Footer.Learning),r.a.createElement("a",{className:"Link_ATag",href:"/#",onClick:function(e){e.preventDefault(),"ru"===O?localStorage.setItem("lang","en"):localStorage.setItem("lang","ru"),window.location.reload()}},e.Footer.lang)),r.a.createElement("div",{className:"Copyright"},r.a.createElement("p",{className:"Copyright_Text"},e.Footer.Copyright))))},C=(n(49),n(20)),B=Object(C.withNaming)({e:"_",m:"__",v:"-"}),j=(n(51),B("Header","Banner")),T=function(e){var t;return t=void 0===e.class?"Header_Banner Header_Banner__color-default":j(e.class),r.a.createElement("header",{className:"Header"},r.a.createElement("div",{className:"Header_Content"},e.link?r.a.createElement(u.b,{to:e.link},r.a.createElement("h1",{className:t},e.text)):r.a.createElement("h1",{className:t},e.text),e.children))},H=(n(56),B("Button")),z=function(e){var t;return t=void 0===e.style?"Button Button__color-control Button__padding-control Button__height-default":H(e.style),r.a.createElement("button",{className:t,onClick:e.onClick},e.children)},F=(n(57),B("Text")),R=function(e){var t;return t=void 0===e.style?"Text":F(e.style),r.a.createElement("span",{className:t},e.children)},L=(n(58),n(33)),A=n.n(L),D=function(){var e=window.lang;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"Logo"},r.a.createElement("img",{className:"Logo_Img",src:A.a,alt:"LOGO"}),r.a.createElement("p",{className:"Logo_Text"},e.Logo.Text),r.a.createElement(u.b,{to:"/settings"},r.a.createElement(z,{style:{color:"action",padding:"action"}},r.a.createElement(R,{style:{size:"m",lineHeight:"xxxxl",weight:"small",color:"default"}},e.Logo.Button.OpenSettings)))))},P=(n(59),B("Icon")),M=function(e){var t;return t=void 0===e.style?"Icon":P(e.style),r.a.createElement("span",{className:t})},U=n(2),W=function(){var e=Object(U.c)((function(e){return e.setting})),t=window.lang;return"/"!==e?r.a.createElement(d.a,{to:"/build"}):r.a.createElement(r.a.Fragment,null,r.a.createElement(T,{text:"School CI server"},r.a.createElement(u.b,{to:"/settings"},r.a.createElement(z,{style:{color:"control",padding:"control",height:"default"}},r.a.createElement(M,{style:{size:"xl",img:"control"}}),r.a.createElement(R,{style:{size:"m",lineHeight:"xxl",weight:"small",color:"default",hide:"on"}},t.StartScreen.Button.Settings)))),r.a.createElement("div",{className:"Content Content__center-on"},r.a.createElement(D,null)))},J=n(34),G=n(9),V=(n(60),function(e){var t=e.header,n=e.descripton,a=e.children,c=e.name,l=e.formRef,i=e.method;return r.a.createElement("form",{className:"Form",name:c,ref:l,method:i,onSubmit:function(e){return e.preventDefault()},onClick:function(e){return e.preventDefault()}},r.a.createElement("h2",{className:"Form_H2"},t),r.a.createElement("p",{className:"Form_Description"},n),a)}),X=Object(C.withNaming)({e:"_",m:"__",v:"-"})("ButtonsField"),q=function(e){var t;return t=void 0===e.style?"ButtonsField":X(e.style),r.a.createElement("div",{className:t},e.children)},$=n(35),K=n.n($),Q=(n(61),function(e){var t=Object(a.useRef)(null),n=e.bind?r.a.createElement("span",{className:"Input_Bind"}," *"):"";return void 0!==e.textMask&&Array.isArray(e.textMask)?r.a.createElement("div",{className:"Input Input__flex-active"},r.a.createElement("p",{className:"Input_Head Input_Head__indent-none Input_Head__indent-rigth"},e.head),r.a.createElement("div",{className:"Input_Field  Input_Field__sizeWidth-small Input_Field__position-rigth"},r.a.createElement(K.a,{mask:e.textMask,className:"Input_Input Input_Input__sizeWidth-small",placeholder:e.placeholder,id:e.id,name:e.name,defaultValue:e.value,placeholderChar:"\u2000",onChange:e.onChange})),void 0!==e.span?r.a.createElement("span",{className:"Input_Span"},e.span):""):r.a.createElement("div",{className:"Input"},r.a.createElement("p",{className:"Input_Head"},e.head||"",n),r.a.createElement("div",{className:"Input_Field"},r.a.createElement("input",{className:"Input_Input",type:e.type,placeholder:e.placeholder,name:e.name,id:e.id,defaultValue:e.value,ref:t}),r.a.createElement(z,{style:{color:"close"},onClick:function(){t.current&&(t.current.value="")}},r.a.createElement(M,{style:{size:"xs",img:"close"}}))),void 0!==e.span?r.a.createElement("span",{className:"Input_Span"},e.span):"")}),Y="http://localhost:3000",Z=function(){var e=Object(d.g)(),t=Object(U.b)(),n=Object(U.c)((function(e){return e.setting})),c=Object(U.c)((function(e){return e.lang})),l=Object(a.useState)(""),i=Object(G.a)(l,2),u=i[0],m=i[1],h=Object(a.useRef)(null),p=window.lang,g=Object(a.useState)({head:p.Settings.Input.period.head.other,span:p.Settings.Input.period.span.other}),f=Object(G.a)(g,2),b=f[0],_=f[1];Object(a.useEffect)((function(){document.title="Settings"}),[]);var v=function(){var n=Object(s.a)(o.a.mark((function n(a){var r,c,l,i,s,u,d,g,f,b,_,v;return o.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:r=a.currentTarget,c=r.nextSibling,r.setAttribute("disabled","disabled"),c.setAttribute("disabled","disabled"),n.prev=4,l=new FormData(h.current),i={},s=l.entries(),u=Object(J.a)(s),n.prev=9,u.s();case 11:if((d=u.n()).done){n.next=21;break}if(g=Object(G.a)(d.value,2),f=g[0],b=g[1],"repoName"!==f&&"buildCommand"!==f||""!==b){n.next=18;break}return m(p.Settings.Error.invalidInput),r.removeAttribute("disabled"),c.removeAttribute("disabled"),n.abrupt("return");case 18:i[f]=b;case 19:n.next=11;break;case 21:n.next=26;break;case 23:n.prev=23,n.t0=n.catch(9),u.e(n.t0);case 26:return n.prev=26,u.f(),n.finish(26);case 29:return m(""),n.next=32,fetch("".concat(Y,"/api/settings"),{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(i)});case 32:return _=n.sent,n.next=35,_.json();case 35:if(v=n.sent,!(_.status>=400)){n.next=41;break}return m(v.data),r.removeAttribute("disabled"),c.removeAttribute("disabled"),n.abrupt("return");case 41:if(v.success){n.next=46;break}return m(v.error),r.removeAttribute("disabled"),c.removeAttribute("disabled"),n.abrupt("return");case 46:return t({type:"settingsOn"}),t({type:"setName",name:i.repoName}),n.abrupt("return",e.push("/build"));case 51:n.prev=51,n.t1=n.catch(4),m(p.Settings.Error.unknown),r.removeAttribute("disabled"),c.removeAttribute("disabled");case 56:r.removeAttribute("disabled"),c.removeAttribute("disabled");case 58:case"end":return n.stop()}}),n,null,[[4,51],[9,23,26,29]])})));return function(e){return n.apply(this,arguments)}}();return r.a.createElement(r.a.Fragment,null,r.a.createElement(T,{text:"School CI server"}),r.a.createElement("div",{className:"Content"},r.a.createElement(V,{header:p.Settings.Form.header,descripton:p.Settings.Form.descripton,name:"settings",method:"post",formRef:h},r.a.createElement(Q,{head:p.Settings.Input.repoName.head,type:"text",placeholder:p.Settings.Input.repoName.placeholder,name:"repoName",bind:!0}),r.a.createElement(Q,{head:p.Settings.Input.buildCommand.head,type:"text",placeholder:p.Settings.Input.buildCommand.placeholder,name:"buildCommand",bind:!0}),r.a.createElement(Q,{head:p.Settings.Input.mainBranch.head,type:"text",placeholder:p.Settings.Input.mainBranch.placeholder,name:"mainBranch"}),r.a.createElement(Q,{head:b.head,placeholder:p.Settings.Input.period.placeholder,name:"period",span:b.span,textMask:[/\d/,/\d/],onChange:function(e){var t=e.currentTarget.value,n=new Intl.PluralRules(c).select(+t);_({head:p.Settings.Input.period.head[n],span:p.Settings.Input.period.span[n]})}}),r.a.createElement(R,{style:{size:"l",weight:"normal",lineHeight:"xxl",color:"red"}},u),r.a.createElement(q,{style:{indent:"topXl"}},r.a.createElement(z,{style:{indentRigth:"s",indentBottom:"s",height:"action",color:"action",padding:"action"},onClick:v},r.a.createElement(R,{style:{size:"m",lineHeight:"xxxxl",weight:"small",color:"default"}},p.Settings.Button.Save)),r.a.createElement(z,{style:{color:"control",padding:"action",height:"action",indentBottom:"xl"},onClick:function(){e.push(n)}},r.a.createElement(R,{style:{size:"m",lineHeight:"xxxxl",weight:"small",color:"default"}},p.Settings.Button.Cancel))))))},ee=(n(62),function(e){return r.a.createElement("div",{className:"Date"},r.a.createElement("div",{className:"Date_Day"},r.a.createElement("span",{className:"Icon Icon__indentRigth-xs Icon__size-xs Icon__img-calendar"}),r.a.createElement("span",{className:"Text Text__size-m Text__weight-small Text__lineHeight-l Text__color-secondary Text__indentRigth-m Date__DinamicColor-on"},e.startDate)),r.a.createElement("div",{className:"Date_Hour"},r.a.createElement("span",{className:"Icon Icon__indentRigth-xs Icon__size-xs Icon__img-clock"}),r.a.createElement("span",{className:"Text Text__size-m Text__weight-small Text__lineHeight-l Text__color-secondary Date__DinamicColor-on"},e.duration)))}),te=k.getState().lang;y="ru"===te?{h:"\u0447",m:"\u043c\u0438\u043d",s:" \u0441\u0435\u043a"}:{h:"h",m:"min",s:" sec"};var ne={month:"short",day:"numeric",hour:"numeric",minute:"numeric",hour12:!1},ae=(n(63),function(e){var t,n=!!e.start&&(t=e.start,new Date(t).toLocaleString(te,ne)),a=function(e){var t=e/36e5^0,n=(e/6e4^0)-60*t,a=(e/1e3^0)-60*n;return t=t>=1?"".concat(t," ").concat(y.h," "):"",n=n>=1?"".concat(n," ").concat(y.m," "):"",""===t?a<1?n:n+a+y.s:t+n}(e.duration),c="Icon Icon__indentRigth-s Icon__size-default Icon__img-".concat(e.status);return r.a.createElement("div",{className:e.column?"Card Card__indentBottom-s Card__column-on":"Card Card__indentBottom-s"},r.a.createElement("div",{className:"Card_Info Card__flexBasic-80"},r.a.createElement("div",{className:"Card_Build Card_Build__indentBottom-s"},r.a.createElement("div",{className:"Card_Status"},r.a.createElement("span",{className:c}),r.a.createElement("span",{className:"Text Text__size-l Text__weight-normal Text__lineHeight-xl Text__color-green"},"#",e.number)),r.a.createElement("span",{className:"Text Text__indentLeft-xs Text__size-s Text__weight-small Text__lineHeight-xl Text__color-default"},e.commit)),r.a.createElement("div",{className:"Card_Commit Card_Commit__indentLeft-xxl"},r.a.createElement("div",{className:"Card_Branch Card_Branch__indentRigth-l "},r.a.createElement("span",{className:"Icon Icon__indentRigth-xs Icon__size-xs Icon__img-code"}),r.a.createElement("span",{className:"Text Text__indentRigth-xs Text__size-m Text__weight-small Text__lineHeight-l Text__color-default"},e.branch),r.a.createElement("span",{className:"Text Text__indentRigth-xs Text__size-m Text__weight-small Text__lineHeight-l Text__color-hash"},e.hash)),r.a.createElement("div",{className:"Card_User"},r.a.createElement("span",{className:"Icon Icon__indentRigth-xs Icon__size-xs Icon__img-user"}),r.a.createElement("span",{className:"Text Text__size-m Text__weight-small Text__lineHeight-l Text__color-default"},e.author)))),!1===n?"":r.a.createElement(ee,{startDate:n,duration:a}))}),re=(n(64),function(e){var t=e.hide,n=Object(a.useState)(""),c=Object(G.a)(n,2),l=c[0],i=c[1],u=Object(a.useRef)(null),m=Object(d.g)(),h=window.lang,p=function(){var e=Object(s.a)(o.a.mark((function e(t){var n,a,r,c,l;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.currentTarget,a=n.nextSibling,n.setAttribute("disabled","disabled"),a.setAttribute("disabled","disabled"),e.prev=4,i(""),r=new FormData(u.current),e.next=9,fetch("".concat(Y,"/api/builds/").concat(r.get("commitHash")),{method:"POST"});case 9:return c=e.sent,e.next=12,c.json();case 12:if(l=e.sent,!(c.status>=400)){e.next=18;break}return i(l.data),n.removeAttribute("disabled"),a.removeAttribute("disabled"),e.abrupt("return");case 18:m.push("/build/".concat(l.data.id)),e.next=25;break;case 21:e.prev=21,e.t0=e.catch(4),i(e.t0),console.log(e.t0);case 25:n.removeAttribute("disabled"),a.removeAttribute("disabled");case 27:case"end":return e.stop()}}),e,null,[[4,21]])})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement("div",{className:"PopUp"},r.a.createElement(V,{header:h.PopUp.Form.header,descripton:h.PopUp.Form.descripton,name:"newBuild",method:"post",formRef:u},r.a.createElement(Q,{type:"text",placeholder:h.PopUp.Input.commitHash.placeholder,name:"commitHash"}),r.a.createElement(q,null,r.a.createElement(z,{style:{indentRigth:"s",indentBottom:"s",height:"action",color:"action",padding:"action"},onClick:p},r.a.createElement(R,{style:{size:"m",lineHeight:"xxxxl",weight:"small",color:"default"}},h.PopUp.Button.RunBuild)),r.a.createElement(z,{onClick:t,style:{color:"close",padding:"action",height:"action",indentBottom:"xl"}},r.a.createElement(R,{style:{size:"m",lineHeight:"xxxxl",weight:"small",color:"default"}},h.PopUp.Button.Cancel))),r.a.createElement(R,{style:{size:"l",weight:"normal",lineHeight:"xxl",color:"red"}},l)))}),ce=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:5;return{type:"updateList",build:e,length:t}},le=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return{type:"updateDetails",build:e}},ie=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:5;return function(n){fetch("".concat(Y,"/api/builds?offset=").concat(e,"&limit=").concat(t)).then((function(e){return e.json()})).then((function(e){n(ce(e.data,t))})).catch((function(e){return console.log(e)}))}},oe=function(){var e=Object(s.a)(o.a.mark((function e(t,n){var a,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat(Y,"/api/builds/").concat(t.commitHash),{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(t)});case 3:return a=e.sent,e.next=6,a.json();case 6:r=e.sent,n.push("/build/".concat(r.data.id)),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.log(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t,n){return e.apply(this,arguments)}}(),se=function(){var e=Object(U.c)((function(e){return e.repName})),t=Object(U.c)((function(e){return e.buildList})),n=Object(U.b)(),c=window.lang,l=Object(a.useState)(!1),i=Object(G.a)(l,2),o=i[0],s=i[1];return Object(a.useEffect)((function(){document.title="Build List",t.build.length<1&&n(ie())}),[]),r.a.createElement(r.a.Fragment,null,r.a.createElement(T,{text:e,class:{color:"black",lineHeight:"l"},link:"/build"},r.a.createElement(q,{style:{column:"off"}},r.a.createElement(z,{style:{color:"control",padding:"control",height:"default"},onClick:function(){return s(!0)}},r.a.createElement(M,{style:{size:"xl",img:"play"}}),r.a.createElement(R,{style:{size:"m",lineHeight:"xxl",weight:"small",color:"default",hide:"on"}},c.Build.Button.RunBuild)),r.a.createElement(u.b,{to:"/settings"},r.a.createElement(z,{style:{color:"control",indentLeft:"s",height:"default"}},r.a.createElement(M,{style:{size:"xl",img:"control"}}))))),r.a.createElement("div",{className:"Content"},t.build.map((function(e){return void 0===e.commitHash&&window.location.reload(),r.a.createElement(u.b,{to:"/build/".concat(e.id),key:e.buildNumber},r.a.createElement(ae,{status:e.status,number:e.buildNumber,commit:e.commitMessage,branch:e.branchName,author:e.authorName,hash:e.commitHash.substring(0,7),start:e.start,duration:e.duration}))})),t.finish?"":r.a.createElement(q,null,r.a.createElement(z,{style:{color:"control",padding:"action",indentBottom:"xl"},onClick:function(e){return n(ie(t.build.length))}},r.a.createElement(R,{style:{size:"m",lineHeight:"xxxxl",weight:"small",color:"default"}},c.Build.Button.ShowMore)))),o?r.a.createElement(re,{hide:function(){return s(!1)}}):"")},ue=n(36),de=n.n(ue),me=(n(71),function(){return r.a.createElement("div",{className:"sk-center"},r.a.createElement("div",{className:"sk-circle"},r.a.createElement("div",{className:"sk-circle1 sk-child"}),r.a.createElement("div",{className:"sk-circle2 sk-child"}),r.a.createElement("div",{className:"sk-circle3 sk-child"}),r.a.createElement("div",{className:"sk-circle4 sk-child"}),r.a.createElement("div",{className:"sk-circle5 sk-child"}),r.a.createElement("div",{className:"sk-circle6 sk-child"}),r.a.createElement("div",{className:"sk-circle7 sk-child"}),r.a.createElement("div",{className:"sk-circle8 sk-child"}),r.a.createElement("div",{className:"sk-circle9 sk-child"}),r.a.createElement("div",{className:"sk-circle10 sk-child"}),r.a.createElement("div",{className:"sk-circle11 sk-child"}),r.a.createElement("div",{className:"sk-circle12 sk-child"})))}),he=new de.a({newline:!0,fg:"#000"});var pe=function(){var e=Object(d.g)(),t=Object(U.c)((function(e){return e.repName})),n=Object(U.c)((function(e){return e.buildDetails})),c=Object(U.b)(),l=Object(d.h)().number,i=window.lang;return Object(a.useEffect)((function(){document.title="Build ".concat(l),l&&c(function(e,t){return function(){var n=Object(s.a)(o.a.mark((function n(a){var r,c,l,i,s,u,d,m;return o.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,a({type:"loading"}),n.next=4,Promise.all([fetch("".concat(Y,"/api/builds/").concat(e)),fetch("".concat(Y,"/api/builds/").concat(e,"/logs"))]);case 4:return r=n.sent,c=Object(G.a)(r,2),l=c[0],i=c[1],n.next=10,Promise.all([l.json(),i.json()]);case 10:s=n.sent,u=Object(G.a)(s,2),d=u[0],m=u[1],d.data.log=m.data,a(le(d.data)),n.next=22;break;case 18:n.prev=18,n.t0=n.catch(0),console.log(n.t0),t.push("/build");case 22:case"end":return n.stop()}}),n,null,[[0,18]])})));return function(e){return n.apply(this,arguments)}}()}(l,e))}),[l]),r.a.createElement(r.a.Fragment,null,r.a.createElement(T,{text:t,class:{color:"black",lineHeight:"l"},link:"/build"},r.a.createElement(q,{style:{column:"off"}},r.a.createElement(z,{style:{color:"control",padding:"control",height:"default"},onClick:function(){return oe(n,e)}},r.a.createElement(M,{style:{size:"xl",img:"rebuild"}}),r.a.createElement(R,{style:{size:"m",lineHeight:"xxl",weight:"small",color:"default",hide:"on"}},i.BuildDetails.Button.Rebuild)),r.a.createElement(u.b,{to:"/settings"},r.a.createElement(z,{style:{color:"control",indentLeft:"s",height:"default"}},r.a.createElement(M,{style:{size:"xl",img:"control"}}))))),r.a.createElement("div",{className:"Content"},n.loading?r.a.createElement(me,null):r.a.createElement(r.a.Fragment,null,r.a.createElement(ae,{status:n.status,number:n.buildNumber,commit:n.commitMessage,branch:n.branchName,author:n.authorName,hash:n.commitHash.substring(0,7),start:n.start,duration:n.duration}),r.a.createElement("div",{className:"Log",dangerouslySetInnerHTML:{__html:he.toHtml(n.log)}}))))},ge=n(37),fe=n(38);var be=function(){var e=Object(U.c)((function(e){return e.setting})),t=Object(U.c)((function(e){return e.lang})),n=Object(U.b)();return window.lang="en"===t?ge:fe,Object(a.useEffect)((function(){(function(){var e=Object(s.a)(o.a.mark((function e(){var t,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat(Y,"/checkSettings"));case 3:return t=e.sent,e.next=6,t.json();case 6:void 0!==(a=e.sent).repoName&&(n({type:"settingsOn"}),n({type:"setName",name:a.repoName})),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.log(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(){return e.apply(this,arguments)}})()()}),[n]),r.a.createElement(r.a.Fragment,null,r.a.createElement(u.a,null,r.a.createElement(d.d,null,r.a.createElement(d.b,{component:W,exact:!0,path:"/"}),r.a.createElement(d.b,{component:Z,exact:!0,path:"/settings"}),r.a.createElement(d.b,{component:se,exact:!0,path:"/build"}),r.a.createElement(d.b,{component:pe,exact:!0,path:"/build/:number"}),r.a.createElement(d.b,{path:"*"},r.a.createElement(d.a,{to:e})))),r.a.createElement(I,null))},_e=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function ve(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var n=e.installing;null!=n&&(n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}n(72);l.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(U.a,{store:k},r.a.createElement(be,null))),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat("","/sw.js");if(_e){!function(e,t){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(n){var a=n.headers.get("content-type");404===n.status||null!=a&&-1===a.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):ve(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e);var n=function(){var e=Object(s.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,window.Notification.requestPermission();case 2:"granted"!==e.sent&&console.log("\u0434\u043e\u0441\u0442\u0443\u043f \u043a push \u0443\u0432\u0435\u0434\u043e\u043c\u043b\u0435\u043d\u0438\u044f\u043c \u0437\u0430\u043f\u0440\u0435\u0449\u0435\u043d");case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();navigator.serviceWorker.ready.then((function(e){console.log("\u0441\u0435\u0440\u0432\u0438\u0441 \u0432\u043e\u0440\u043a\u0435\u0440 \u0437\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u043d"),n()}))}else ve(t,e)}))}}()}},[[39,1,2]]]);
//# sourceMappingURL=main.64cc9887.chunk.js.map