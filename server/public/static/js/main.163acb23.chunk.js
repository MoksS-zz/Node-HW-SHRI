(this.webpackJsonpfront=this.webpackJsonpfront||[]).push([[0],{33:function(e,t,n){e.exports=n.p+"static/media/logo.2d2123ee.svg"},37:function(e,t,n){e.exports=n(73)},43:function(e,t,n){},44:function(e,t,n){},45:function(e,t,n){},47:function(e,t,n){},49:function(e,t,n){},54:function(e,t,n){},55:function(e,t,n){},56:function(e,t,n){},57:function(e,t,n){},58:function(e,t,n){},59:function(e,t,n){},60:function(e,t,n){},61:function(e,t,n){},62:function(e,t,n){},69:function(e,t,n){},73:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(18),l=n.n(c),i=n(3),o=n.n(i),s=n(8),u=n(4),d=n(12),m=(n(43),n(44),n(45),n(11)),h=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"/",t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"settingsOn":return"/build";default:return e}},p=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"setName":return t.name;default:return e}},g=n(17),f=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{build:[],finish:!1},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"updateList":return t.build.length<t.length?{build:[].concat(Object(g.a)(e.build),Object(g.a)(t.build)),finish:!0}:{build:[].concat(Object(g.a)(e.build),Object(g.a)(t.build)),finish:!1};default:return e}},b=n(25),_=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{commitHash:"",log:"",loading:!0},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"updateDetails":return Object(b.a)({},t.build,{loading:!1});case"loading":return Object(b.a)({},e,{loading:!0});default:return e}},v=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"ru",t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"setLang":return t.lang;default:return e}},E=Object(m.c)({setting:h,repName:p,buildList:f,buildDetails:_,lang:v}),x=n(31),N=window.__PRELOADED_STATE__;delete window.__PRELOADED_STATE__;var w,y=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||m.d,k=Object(m.e)(E,N,y(Object(m.a)(x.a))),O=k.getState().lang,j=function(){var e=window.lang;return r.a.createElement("footer",{className:"Footer"},r.a.createElement("div",{className:"Footer_Content"},r.a.createElement("div",{className:"Link"},r.a.createElement("a",{className:"Link_ATag",href:"/#"},e.Footer.Support),r.a.createElement("a",{className:"Link_ATag",href:"/#"},e.Footer.Learning),r.a.createElement("a",{className:"Link_ATag",href:"ru"===O?"/ru":"/en"},e.Footer.lang)),r.a.createElement("div",{className:"Copyright"},r.a.createElement("p",{className:"Copyright_Text"},e.Footer.Copyright))))},I=(n(47),n(20)),T=Object(I.withNaming)({e:"_",m:"__",v:"-"}),C=(n(49),T("Header","Banner")),S=function(e){var t;return t=void 0===e.class?"Header_Banner Header_Banner__color-default":C(e.class),r.a.createElement("header",{className:"Header"},r.a.createElement("div",{className:"Header_Content"},e.link?r.a.createElement(u.b,{to:e.link},r.a.createElement("h1",{className:t},e.text)):r.a.createElement("h1",{className:t},e.text),e.children))},B=(n(54),T("Button")),H=function(e){var t;return t=void 0===e.style?"Button Button__color-control Button__padding-control Button__height-default":B(e.style),r.a.createElement("button",{className:t,onClick:e.onClick},e.children)},A=(n(55),T("Text")),z=function(e){var t;return t=void 0===e.style?"Text":A(e.style),r.a.createElement("span",{className:t},e.children)},L=(n(56),n(33)),F=n.n(L),D=function(){var e=window.lang;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"Logo"},r.a.createElement("img",{className:"Logo_Img",src:F.a,alt:"LOGO"}),r.a.createElement("p",{className:"Logo_Text"},e.Logo.Text),r.a.createElement(u.b,{to:"/settings"},r.a.createElement(H,{style:{color:"action",padding:"action"}},r.a.createElement(z,{style:{size:"m",lineHeight:"xxxxl",weight:"small",color:"default"}},e.Logo.Button.OpenSettings)))))},R=(n(57),T("Icon")),P=function(e){var t;return t=void 0===e.style?"Icon":R(e.style),r.a.createElement("span",{className:t})},U=n(2),M=function(){var e=Object(U.c)((function(e){return e.setting})),t=window.lang;return"/"!==e?r.a.createElement(d.a,{to:"/build"}):r.a.createElement(r.a.Fragment,null,r.a.createElement(S,{text:"School CI server"},r.a.createElement(u.b,{to:"/settings"},r.a.createElement(H,{style:{color:"control",padding:"control",height:"default"}},r.a.createElement(P,{style:{size:"xl",img:"control"}}),r.a.createElement(z,{style:{size:"m",lineHeight:"xxl",weight:"small",color:"default",hide:"on"}},t.StartScreen.Button.Settings)))),r.a.createElement("div",{className:"Content Content__center-on"},r.a.createElement(D,null)))},W=n(34),J=n(9),V=(n(58),function(e){var t=e.header,n=e.descripton,a=e.children,c=e.name,l=e.formRef,i=e.method;return r.a.createElement("form",{className:"Form",name:c,ref:l,method:i,onSubmit:function(e){return e.preventDefault()},onClick:function(e){return e.preventDefault()}},r.a.createElement("h2",{className:"Form_H2"},t),r.a.createElement("p",{className:"Form_Description"},n),a)}),X=Object(I.withNaming)({e:"_",m:"__",v:"-"})("ButtonsField"),q=function(e){var t;return t=void 0===e.style?"ButtonsField":X(e.style),r.a.createElement("div",{className:t},e.children)},G=n(35),$=n.n(G),K=(n(59),function(e){var t=Object(a.useRef)(null),n=e.bind?r.a.createElement("span",{className:"Input_Bind"}," *"):"";return void 0!==e.textMask&&Array.isArray(e.textMask)?r.a.createElement("div",{className:"Input Input__flex-active"},r.a.createElement("p",{className:"Input_Head Input_Head__indent-none Input_Head__indent-rigth"},e.head),r.a.createElement("div",{className:"Input_Field  Input_Field__sizeWidth-small Input_Field__position-rigth"},r.a.createElement($.a,{mask:e.textMask,className:"Input_Input Input_Input__sizeWidth-small",placeholder:e.placeholder,id:e.id,name:e.name,defaultValue:e.value,placeholderChar:"\u2000",onChange:e.onChange})),void 0!==e.span?r.a.createElement("span",{className:"Input_Span"},e.span):""):r.a.createElement("div",{className:"Input"},r.a.createElement("p",{className:"Input_Head"},e.head||"",n),r.a.createElement("div",{className:"Input_Field"},r.a.createElement("input",{className:"Input_Input",type:e.type,placeholder:e.placeholder,name:e.name,id:e.id,defaultValue:e.value,ref:t}),r.a.createElement(H,{style:{color:"close"},onClick:function(){t.current&&(t.current.value="")}},r.a.createElement(P,{style:{size:"xs",img:"close"}}))),void 0!==e.span?r.a.createElement("span",{className:"Input_Span"},e.span):"")}),Q="http://localhost:3000",Y=function(){var e=Object(d.g)(),t=Object(U.b)(),n=Object(U.c)((function(e){return e.setting})),c=Object(U.c)((function(e){return e.lang})),l=Object(a.useState)(""),i=Object(J.a)(l,2),u=i[0],m=i[1],h=Object(a.useRef)(null),p=window.lang,g=Object(a.useState)({head:p.Settings.Input.period.head.other,span:p.Settings.Input.period.span.other}),f=Object(J.a)(g,2),b=f[0],_=f[1];Object(a.useEffect)((function(){document.title="Settings"}),[]);var v=function(){var n=Object(s.a)(o.a.mark((function n(a){var r,c,l,i,s,u,d,g,f,b,_,v;return o.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:r=a.currentTarget,c=r.nextSibling,r.setAttribute("disabled","disabled"),c.setAttribute("disabled","disabled"),n.prev=4,l=new FormData(h.current),i={},s=l.entries(),u=Object(W.a)(s),n.prev=9,u.s();case 11:if((d=u.n()).done){n.next=21;break}if(g=Object(J.a)(d.value,2),f=g[0],b=g[1],"repoName"!==f&&"buildCommand"!==f||""!==b){n.next=18;break}return m(p.Settings.Error.invalidInput),r.removeAttribute("disabled"),c.removeAttribute("disabled"),n.abrupt("return");case 18:i[f]=b;case 19:n.next=11;break;case 21:n.next=26;break;case 23:n.prev=23,n.t0=n.catch(9),u.e(n.t0);case 26:return n.prev=26,u.f(),n.finish(26);case 29:return m(""),n.next=32,fetch("".concat(Q,"/api/settings"),{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(i)});case 32:return _=n.sent,n.next=35,_.json();case 35:if(v=n.sent,!(_.status>=400)){n.next=41;break}return m(v.data),r.removeAttribute("disabled"),c.removeAttribute("disabled"),n.abrupt("return");case 41:if(v.success){n.next=46;break}return m(v.error),r.removeAttribute("disabled"),c.removeAttribute("disabled"),n.abrupt("return");case 46:return t({type:"settingsOn"}),t({type:"setName",name:i.repoName}),n.abrupt("return",e.push("/build"));case 51:n.prev=51,n.t1=n.catch(4),m(p.Settings.Error.unknown),r.removeAttribute("disabled"),c.removeAttribute("disabled");case 56:r.removeAttribute("disabled"),c.removeAttribute("disabled");case 58:case"end":return n.stop()}}),n,null,[[4,51],[9,23,26,29]])})));return function(e){return n.apply(this,arguments)}}();return r.a.createElement(r.a.Fragment,null,r.a.createElement(S,{text:"School CI server"}),r.a.createElement("div",{className:"Content"},r.a.createElement(V,{header:p.Settings.Form.header,descripton:p.Settings.Form.descripton,name:"settings",method:"post",formRef:h},r.a.createElement(K,{head:p.Settings.Input.repoName.head,type:"text",placeholder:p.Settings.Input.repoName.placeholder,name:"repoName",bind:!0}),r.a.createElement(K,{head:p.Settings.Input.buildCommand.head,type:"text",placeholder:p.Settings.Input.buildCommand.placeholder,name:"buildCommand",bind:!0}),r.a.createElement(K,{head:p.Settings.Input.mainBranch.head,type:"text",placeholder:p.Settings.Input.mainBranch.placeholder,name:"mainBranch"}),r.a.createElement(K,{head:b.head,placeholder:p.Settings.Input.period.placeholder,name:"period",span:b.span,textMask:[/\d/,/\d/],onChange:function(e){var t=e.currentTarget.value,n=new Intl.PluralRules(c).select(+t);_({head:p.Settings.Input.period.head[n],span:p.Settings.Input.period.span[n]})}}),r.a.createElement(z,{style:{size:"l",weight:"normal",lineHeight:"xxl",color:"red"}},u),r.a.createElement(q,{style:{indent:"topXl"}},r.a.createElement(H,{style:{indentRigth:"s",indentBottom:"s",height:"action",color:"action",padding:"action"},onClick:v},r.a.createElement(z,{style:{size:"m",lineHeight:"xxxxl",weight:"small",color:"default"}},p.Settings.Button.Save)),r.a.createElement(H,{style:{color:"control",padding:"action",height:"action",indentBottom:"xl"},onClick:function(){e.push(n)}},r.a.createElement(z,{style:{size:"m",lineHeight:"xxxxl",weight:"small",color:"default"}},p.Settings.Button.Cancel))))))},Z=(n(60),function(e){return r.a.createElement("div",{className:"Date"},r.a.createElement("div",{className:"Date_Day"},r.a.createElement("span",{className:"Icon Icon__indentRigth-xs Icon__size-xs Icon__img-calendar"}),r.a.createElement("span",{className:"Text Text__size-m Text__weight-small Text__lineHeight-l Text__color-secondary Text__indentRigth-m Date__DinamicColor-on"},e.startDate)),r.a.createElement("div",{className:"Date_Hour"},r.a.createElement("span",{className:"Icon Icon__indentRigth-xs Icon__size-xs Icon__img-clock"}),r.a.createElement("span",{className:"Text Text__size-m Text__weight-small Text__lineHeight-l Text__color-secondary Date__DinamicColor-on"},e.duration)))}),ee=k.getState().lang;w="ru"===ee?{h:"\u0447",m:"\u043c\u0438\u043d",s:" \u0441\u0435\u043a"}:{h:"h",m:"min",s:" sec"};var te={month:"short",day:"numeric",hour:"numeric",minute:"numeric",hour12:!1},ne=(n(61),function(e){var t,n=!!e.start&&(t=e.start,new Date(t).toLocaleString(ee,te)),a=function(e){var t=e/36e5^0,n=(e/6e4^0)-60*t,a=(e/1e3^0)-60*n;return t=t>=1?"".concat(t," ").concat(w.h," "):"",n=n>=1?"".concat(n," ").concat(w.m," "):"",""===t?a<1?n:n+a+w.s:t+n}(e.duration),c="Icon Icon__indentRigth-s Icon__size-default Icon__img-".concat(e.status);return r.a.createElement("div",{className:e.column?"Card Card__indentBottom-s Card__column-on":"Card Card__indentBottom-s"},r.a.createElement("div",{className:"Card_Info Card__flexBasic-80"},r.a.createElement("div",{className:"Card_Build Card_Build__indentBottom-s"},r.a.createElement("div",{className:"Card_Status"},r.a.createElement("span",{className:c}),r.a.createElement("span",{className:"Text Text__size-l Text__weight-normal Text__lineHeight-xl Text__color-green"},"#",e.number)),r.a.createElement("span",{className:"Text Text__indentLeft-xs Text__size-s Text__weight-small Text__lineHeight-xl Text__color-default"},e.commit)),r.a.createElement("div",{className:"Card_Commit Card_Commit__indentLeft-xxl"},r.a.createElement("div",{className:"Card_Branch Card_Branch__indentRigth-l "},r.a.createElement("span",{className:"Icon Icon__indentRigth-xs Icon__size-xs Icon__img-code"}),r.a.createElement("span",{className:"Text Text__indentRigth-xs Text__size-m Text__weight-small Text__lineHeight-l Text__color-default"},e.branch),r.a.createElement("span",{className:"Text Text__indentRigth-xs Text__size-m Text__weight-small Text__lineHeight-l Text__color-hash"},e.hash)),r.a.createElement("div",{className:"Card_User"},r.a.createElement("span",{className:"Icon Icon__indentRigth-xs Icon__size-xs Icon__img-user"}),r.a.createElement("span",{className:"Text Text__size-m Text__weight-small Text__lineHeight-l Text__color-default"},e.author)))),!1===n?"":r.a.createElement(Z,{startDate:n,duration:a}))}),ae=(n(62),function(e){var t=e.hide,n=Object(a.useState)(""),c=Object(J.a)(n,2),l=c[0],i=c[1],u=Object(a.useRef)(null),m=Object(d.g)(),h=window.lang,p=function(){var e=Object(s.a)(o.a.mark((function e(t){var n,a,r,c,l;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.currentTarget,a=n.nextSibling,n.setAttribute("disabled","disabled"),a.setAttribute("disabled","disabled"),e.prev=4,i(""),r=new FormData(u.current),e.next=9,fetch("".concat(Q,"/api/builds/").concat(r.get("commitHash")),{method:"POST"});case 9:return c=e.sent,e.next=12,c.json();case 12:if(l=e.sent,!(c.status>=400)){e.next=18;break}return i(l.data),n.removeAttribute("disabled"),a.removeAttribute("disabled"),e.abrupt("return");case 18:m.push("/build/".concat(l.data.id)),e.next=25;break;case 21:e.prev=21,e.t0=e.catch(4),i(e.t0),console.log(e.t0);case 25:n.removeAttribute("disabled"),a.removeAttribute("disabled");case 27:case"end":return e.stop()}}),e,null,[[4,21]])})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement("div",{className:"PopUp"},r.a.createElement(V,{header:h.PopUp.Form.header,descripton:h.PopUp.Form.descripton,name:"newBuild",method:"post",formRef:u},r.a.createElement(K,{type:"text",placeholder:h.PopUp.Input.commitHash.placeholder,name:"commitHash"}),r.a.createElement(q,null,r.a.createElement(H,{style:{indentRigth:"s",indentBottom:"s",height:"action",color:"action",padding:"action"},onClick:p},r.a.createElement(z,{style:{size:"m",lineHeight:"xxxxl",weight:"small",color:"default"}},h.PopUp.Button.RunBuild)),r.a.createElement(H,{onClick:t,style:{color:"close",padding:"action",height:"action",indentBottom:"xl"}},r.a.createElement(z,{style:{size:"m",lineHeight:"xxxxl",weight:"small",color:"default"}},h.PopUp.Button.Cancel))),r.a.createElement(z,{style:{size:"l",weight:"normal",lineHeight:"xxl",color:"red"}},l)))}),re=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:5;return{type:"updateList",build:e,length:t}},ce=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return{type:"updateDetails",build:e}},le=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:5;return function(n){fetch("".concat(Q,"/api/builds?offset=").concat(e,"&limit=").concat(t)).then((function(e){return e.json()})).then((function(e){n(re(e.data,t))})).catch((function(e){return console.log(e)}))}},ie=function(){var e=Object(s.a)(o.a.mark((function e(t,n){var a,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat(Q,"/api/builds/").concat(t.commitHash),{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(t)});case 3:return a=e.sent,e.next=6,a.json();case 6:r=e.sent,n.push("/build/".concat(r.data.id)),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.log(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t,n){return e.apply(this,arguments)}}(),oe=function(){var e=Object(U.c)((function(e){return e.repName})),t=Object(U.c)((function(e){return e.buildList})),n=Object(U.b)(),c=window.lang,l=Object(a.useState)(!1),i=Object(J.a)(l,2),o=i[0],s=i[1];return Object(a.useEffect)((function(){document.title="Build List",t.build.length<1&&n(le())}),[]),r.a.createElement(r.a.Fragment,null,r.a.createElement(S,{text:e,class:{color:"black",lineHeight:"l"},link:"/build"},r.a.createElement(q,{style:{column:"off"}},r.a.createElement(H,{style:{color:"control",padding:"control",height:"default"},onClick:function(){return s(!0)}},r.a.createElement(P,{style:{size:"xl",img:"play"}}),r.a.createElement(z,{style:{size:"m",lineHeight:"xxl",weight:"small",color:"default",hide:"on"}},c.Build.Button.RunBuild)),r.a.createElement(u.b,{to:"/settings"},r.a.createElement(H,{style:{color:"control",indentLeft:"s",height:"default"}},r.a.createElement(P,{style:{size:"xl",img:"control"}}))))),r.a.createElement("div",{className:"Content"},t.build.map((function(e){return void 0===e.commitHash&&window.location.reload(),r.a.createElement(u.b,{to:"/build/".concat(e.id),key:e.buildNumber},r.a.createElement(ne,{status:e.status,number:e.buildNumber,commit:e.commitMessage,branch:e.branchName,author:e.authorName,hash:e.commitHash.substring(0,7),start:e.start,duration:e.duration}))})),t.finish?"":r.a.createElement(q,null,r.a.createElement(H,{style:{color:"control",padding:"action",indentBottom:"xl"},onClick:function(e){return n(le(t.build.length))}},r.a.createElement(z,{style:{size:"m",lineHeight:"xxxxl",weight:"small",color:"default"}},c.Build.Button.ShowMore)))),o?r.a.createElement(ae,{hide:function(){return s(!1)}}):"")},se=n(36),ue=n.n(se),de=(n(69),function(){return r.a.createElement("div",{className:"sk-center"},r.a.createElement("div",{className:"sk-circle"},r.a.createElement("div",{className:"sk-circle1 sk-child"}),r.a.createElement("div",{className:"sk-circle2 sk-child"}),r.a.createElement("div",{className:"sk-circle3 sk-child"}),r.a.createElement("div",{className:"sk-circle4 sk-child"}),r.a.createElement("div",{className:"sk-circle5 sk-child"}),r.a.createElement("div",{className:"sk-circle6 sk-child"}),r.a.createElement("div",{className:"sk-circle7 sk-child"}),r.a.createElement("div",{className:"sk-circle8 sk-child"}),r.a.createElement("div",{className:"sk-circle9 sk-child"}),r.a.createElement("div",{className:"sk-circle10 sk-child"}),r.a.createElement("div",{className:"sk-circle11 sk-child"}),r.a.createElement("div",{className:"sk-circle12 sk-child"})))}),me=new ue.a({newline:!0,fg:"#000"});var he=function(){var e=Object(d.g)(),t=Object(U.c)((function(e){return e.repName})),n=Object(U.c)((function(e){return e.buildDetails})),c=Object(U.b)(),l=Object(d.h)().number,i=window.lang;return Object(a.useEffect)((function(){document.title="Build ".concat(l),l&&c(function(e,t){return function(){var n=Object(s.a)(o.a.mark((function n(a){var r,c,l,i,s,u,d,m;return o.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,a({type:"loading"}),n.next=4,Promise.all([fetch("".concat(Q,"/api/builds/").concat(e)),fetch("".concat(Q,"/api/builds/").concat(e,"/logs"))]);case 4:return r=n.sent,c=Object(J.a)(r,2),l=c[0],i=c[1],n.next=10,Promise.all([l.json(),i.json()]);case 10:s=n.sent,u=Object(J.a)(s,2),d=u[0],m=u[1],d.data.log=m.data,a(ce(d.data)),n.next=22;break;case 18:n.prev=18,n.t0=n.catch(0),console.log(n.t0),t.push("/build");case 22:case"end":return n.stop()}}),n,null,[[0,18]])})));return function(e){return n.apply(this,arguments)}}()}(l,e))}),[l]),r.a.createElement(r.a.Fragment,null,r.a.createElement(S,{text:t,class:{color:"black",lineHeight:"l"},link:"/build"},r.a.createElement(q,{style:{column:"off"}},r.a.createElement(H,{style:{color:"control",padding:"control",height:"default"},onClick:function(){return ie(n,e)}},r.a.createElement(P,{style:{size:"xl",img:"rebuild"}}),r.a.createElement(z,{style:{size:"m",lineHeight:"xxl",weight:"small",color:"default",hide:"on"}},i.BuildDetails.Button.Rebuild)),r.a.createElement(u.b,{to:"/settings"},r.a.createElement(H,{style:{color:"control",indentLeft:"s",height:"default"}},r.a.createElement(P,{style:{size:"xl",img:"control"}}))))),r.a.createElement("div",{className:"Content"},n.loading?r.a.createElement(de,null):r.a.createElement(r.a.Fragment,null,r.a.createElement(ne,{status:n.status,number:n.buildNumber,commit:n.commitMessage,branch:n.branchName,author:n.authorName,hash:n.commitHash.substring(0,7),start:n.start,duration:n.duration}),r.a.createElement("div",{className:"Log",dangerouslySetInnerHTML:{__html:me.toHtml(n.log)}}))))};var pe=function(){var e=Object(U.c)((function(e){return e.setting})),t=Object(U.b)();return Object(a.useEffect)((function(){(function(){var e=Object(s.a)(o.a.mark((function e(){var n,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat(Q,"/checkSettings"));case 3:return n=e.sent,e.next=6,n.json();case 6:void 0!==(a=e.sent).repoName&&(t({type:"settingsOn"}),t({type:"setName",name:a.repoName})),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.log(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(){return e.apply(this,arguments)}})()()}),[t]),r.a.createElement(r.a.Fragment,null,r.a.createElement(u.a,null,r.a.createElement(d.d,null,r.a.createElement(d.b,{component:M,exact:!0,path:"/"}),r.a.createElement(d.b,{component:Y,exact:!0,path:"/settings"}),r.a.createElement(d.b,{component:oe,exact:!0,path:"/build"}),r.a.createElement(d.b,{component:he,exact:!0,path:"/build/:number"}),r.a.createElement(d.b,{path:"*"},r.a.createElement(d.a,{to:e})))),r.a.createElement(j,null))},ge=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function fe(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var n=e.installing;null!=n&&(n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}n(70);l.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(U.a,{store:k},r.a.createElement(pe,null))),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat("","/sw.js");if(ge){!function(e,t){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(n){var a=n.headers.get("content-type");404===n.status||null!=a&&-1===a.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):fe(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e);var n=function(){var e=Object(s.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,window.Notification.requestPermission();case 2:"granted"!==e.sent&&console.log("\u0434\u043e\u0441\u0442\u0443\u043f \u043a push \u0443\u0432\u0435\u0434\u043e\u043c\u043b\u0435\u043d\u0438\u044f\u043c \u0437\u0430\u043f\u0440\u0435\u0449\u0435\u043d");case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();navigator.serviceWorker.ready.then((function(e){console.log("\u0441\u0435\u0440\u0432\u0438\u0441 \u0432\u043e\u0440\u043a\u0435\u0440 \u0437\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u043d"),n()}))}else fe(t,e)}))}}()}},[[37,1,2]]]);
//# sourceMappingURL=main.163acb23.chunk.js.map